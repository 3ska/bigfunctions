type: function_js
samples:
  - "render_string(template, context)"
description: |-
  Replaces the variables surrounded by brackets such as `{{variable_name}}` in `template` by their values defined in `context`.
  Beware that `context` keys and string values must be surrounded by double-quotes `"` and not single-quotes `'`.
arguments:
  - name: template
    type: STRING
    test_value: Hello {{username}}
  - name: context
    type: STRING
    test_value: '{"username": "James"}'
output:
  name: rendered_content
  type: STRING
  expected_value: Hello World
example: |-
  ``` sql
  SELECT {BIGFUNCTIONS_DATASET}.render_string('Hello {{who}}', '{"username": "James"}') as rendered_content;

  +-------------+
  | rendered_content     |
  +-------------+
  | Hello World |
  +-------------+
  ```
code: |
  context = JSON.parse(context);
  return nunjucks.renderString(template, context);
libraries:
  - nunjucks-v3.2.2.min.js